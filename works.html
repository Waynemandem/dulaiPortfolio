<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dulai Films - Professional videography and film production portfolio. Showcasing aerial commercials, real estate, tourism films, and corporate videos.">
    <title>Works - Dulai Films | Professional Video Production</title>
    <link rel="stylesheet" href="dulai.css">
</head>
<body>
    <!-- Navigation -->
    <nav>
        <a href="index.html" class="logo">
            <img src="assets/image.png" alt="Dulai Films Logo">
        </a>
        
        <!-- Mobile menu button -->
        <button 
            class="hamburger" 
            id="hamburgerBtn"
            aria-label="Toggle navigation menu"
            aria-expanded="false"
            aria-controls="navLinks">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
        </button>
        
        <!-- Navigation Links -->
        <div class="nav-links" id="navLinks">
            <a href="index.html#work">Work</a>
            <a href="index.html#about">About</a>
            <a href="index.html#contact">Contact</a>
            
            <!-- Theme Toggle -->
            <button 
                class="theme-toggle" 
                id="themeToggle"
                aria-label="Toggle dark and light theme"
                aria-pressed="false"
                title="Toggle theme">
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <video id="heroVideo" class="hero-video" autoplay loop playsinline>
            <source src="assets/video_2026-01-04_08-40-00.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        
        <div class="hero-content">
            <h1>Featured Works</h1>
            <p>A collection of our finest cinematic productions</p>
        </div>   
    </section>

    <!-- Work Section -->
    <section class="work" id="work">
        <h2 class="section-title">Our Portfolio</h2>
        
        <div class="video-grid">
            <!-- Work Card 1 -->
            <div class="video-card">
                <img src="assets/dulai2.jpg" alt="Above the Standard - Aerial Commercial">
                <div class="video-overlay">
                    <h3 class="video-title">Above the Standard</h3>
                    <p class="video-category">Aerial Commercial</p>
                </div>
            </div>

            <!-- Work Card 2 -->
            <div class="video-card">
                <img src="assets/dulai-img1.jpg" alt="An Elevated Address - Real Estate Aerials">
                <div class="video-overlay">
                    <h3 class="video-title">An Elevated Address</h3>
                    <p class="video-category">Real Estate Aerials</p>
                </div>
            </div>

            <!-- Work Card 3 -->
            <div class="video-card">
                <img src="assets/photo_2025-12-27_20-29-31.jpg" alt="Discover the Quiet - Tourism">
                <div class="video-overlay">
                    <h3 class="video-title">Discover the Quiet</h3>
                    <p class="video-category">Tourism / Destination Films</p>
                </div>
            </div>

            <!-- Work Card 4 -->
            <div class="video-card">
                <img src="assets/vlcsnap-2025-12-29-20h41m28s662.png" alt="In Their Element - Lifestyle Production">
                <div class="video-overlay">
                    <h3 class="video-title">In Their Element</h3>
                    <p class="video-category">Lifestyle / Fashion / Personal Brand</p>
                </div>
            </div>

            <!-- Work Card 5 -->
            <div class="video-card">
                <img src="assets/vlcsnap-2025-12-29-20h39m19s752.png" alt="Before It Goes Live - Story-Driven Content">
                <div class="video-overlay">
                    <h3 class="video-title">Before It Goes Live</h3>
                    <p class="video-category">Story-Driven</p>
                </div>
            </div>

            <!-- Work Card 6 -->
            <div class="video-card">
                <img src="assets/vlcsnap-2025-12-29-20h40m42s024.png" alt="The Work Behind The Work - Documentary">
                <div class="video-overlay">
                    <h3 class="video-title">The Work Behind The Work</h3>
                    <p class="video-category">Documentary</p>
                </div>
            </div>

            <!-- Work Card 7 -->
            <div class="video-card">
                <img src="assets/vlcsnap-2025-12-29-20h38m40s538.png" alt="Featured Work">
                <div class="video-overlay">
                    <h3 class="video-title">Coming Soon</h3>
                    <p class="video-category">Upcoming Project</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="gallery" id="gallery">
        <h2>Video Gallery</h2>
        
        <div class="gallery-grid">
            <!-- Gallery Item 1 -->
            <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe 
                        src="https://player.vimeo.com/video/1149467376?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1"
                        loading="lazy"
                        frameborder="0" 
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        title="Energy, Unscripted">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <h3 class="video-title">Energy, Unscripted</h3>
                <p class="video-category">Experience Coverage</p>
            </div>

            <!-- Gallery Item 2 -->
            <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe 
                        src="https://player.vimeo.com/video/1149465491?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1" 
                        loading="lazy"
                        frameborder="0" 
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        title="Moments Worth Keeping">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <h3 class="video-title">Moments Worth Keeping</h3>
                <p class="video-category">Event Coverage</p>
            </div>

            <!-- Gallery Item 3 -->
            <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe 
                        src="https://player.vimeo.com/video/1149466142?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1"
                        loading="lazy"
                        frameborder="0" 
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        title="Drone Photography">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <h3 class="video-title">Drone Photography</h3>
                <p class="video-category">Aerial Cinematography</p>
            </div>

            <!-- Gallery Item 4 -->
            <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe 
                        src="https://player.vimeo.com/video/1149466653?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1"
                        loading="lazy"
                        frameborder="0" 
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        title="Tourism & Travel">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <h3 class="video-title">Tourism & Travel</h3>
                <p class="video-category">Destination Films</p>
            </div>

            <!-- Gallery Item 5 -->
            <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe 
                        src="https://player.vimeo.com/video/1149463300?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1" 
                        loading="lazy"
                        frameborder="0" 
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        title="Commercial Productions">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <h3 class="video-title">Commercial Productions</h3>
                <p class="video-category">Corporate Videos</p>
            </div>

            <!-- Gallery Item 6 -->
            <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe 
                        src="https://player.vimeo.com/video/1149465138?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1"
                        loading="lazy"
                        frameborder="0" 
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        title="Corporate Videos">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <h3 class="video-title">Corporate Videos</h3>
                <p class="video-category">Professional Productions</p>
            </div>

             <!-- Gallery Item 7 -->
             <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe 
                        src="https://player.vimeo.com/video/1151265699?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1" 
                        loading="lazy"
                        frameborder="0" 
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        title="Commercial Productions">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <h3 class="video-title"></h3>
                <p class="video-category"></p>
            </div>

            
             <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe 
                        src="https://player.vimeo.com/video/1151265887?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1" 
                        loading="lazy"
                        frameborder="0" 
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" 
                        referrerpolicy="strict-origin-when-cross-origin" 
                        title="Commercial Productions">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <h3 class="video-title"></h3>
                <p class="video-category"></p>
            </div>

            <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe
                        src="https://player.vimeo.com/video/1151557065?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1"
                        loading="lazy"
                        frameborder="0"
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share"
                        referrerpolicy="strict-origin-when-cross-origin"
                        title="Commercial Productions">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
                <h3 class="video-title"></h3>
                <p class="video-category"></p>
            </div>

            <div class="gallery-item">
                <div class="gallery-video-wrapper" style="position: relative; width: 100%; height: 100%;">
                    <iframe 
                        src="https://player.vimeo.com/video/1151955889?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479&amp;muted=1&amp;loop=1" 
                        loading="lazy"
                        frameborder="0"
                        allow="fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share"
                        referrerpolicy="strict-origin-when-cross-origin"
                        title="Commercial Productions">
                    </iframe>
                    <button class="video-mute-btn gallery-mute" aria-label="Mute video" title="Mute/Unmute">
                        <svg class="mute-icon-speaker" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <path d="M15.54 8.46a6.99 6.99 0 0 1 0 9.88M18.76 5.24a10.96 10.96 0 0 1 0 13.52"></path>
                        </svg>
                        <svg class="mute-icon-muted" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon>
                            <line x1="23" y1="9" x2="17" y2="15"></line>
                            <line x1="17" y1="9" x2="23" y2="15"></line>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        © Dulai Films Limited. Ajah, Lagos.  <br>
        Dulai Films  •  RC: 8749630
    </footer>

    <!-- Work Image Modal -->
    <div 
        id="workImageModal" 
        class="work-image-modal"
        role="dialog"
        aria-label="Expanded work image view"
        aria-hidden="true">
        <div class="work-image-modal-backdrop"></div>
        <div class="work-image-modal-content">
            <img 
                id="workImageModalImg"
                src="" 
                alt="Expanded work image"
                class="work-image-modal-img">
            <button 
                id="workImageModalClose"
                class="work-image-modal-close"
                aria-label="Close image"
                title="Close (Esc)">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        /* ===================================
           Vimeo Performance Optimization
           Defers video loading until viewport or user interaction
           ================================== */
        const galleryItems = document.querySelectorAll('.gallery-item');
        
        // Intersection Observer for lazy loading iframes
        const videoObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const iframe = entry.target.querySelector('iframe');
                    if (iframe && !iframe.src.includes('autoplay=1')) {
                        // Video is visible, enable autoplay on next interaction
                        iframe.addEventListener('click', function playOnClick() {
                            this.src = this.src + '&autoplay=1';
                            this.removeEventListener('click', playOnClick);
                        }, { once: true });
                    }
                    videoObserver.unobserve(entry.target);
                }
            });
        }, {
            rootMargin: '50px'
        });

        galleryItems.forEach(item => {
            videoObserver.observe(item);
        });

        /* ===================================
           Theme Toggle
           ================================== */
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;

        const initializeTheme = () => {
            const savedTheme = localStorage.getItem('theme') || 'dark';
            if (savedTheme === 'light') {
                body.classList.add('light-theme');
                themeToggle.classList.add('active');
                themeToggle.setAttribute('aria-pressed', 'true');
            } else {
                body.classList.remove('light-theme');
                themeToggle.classList.remove('active');
                themeToggle.setAttribute('aria-pressed', 'false');
            }
        };

        themeToggle.addEventListener('click', toggleTheme);
        themeToggle.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                toggleTheme();
            }
        });

        function toggleTheme() {
            body.classList.toggle('light-theme');
            themeToggle.classList.toggle('active');
            const isLightTheme = body.classList.contains('light-theme');
            themeToggle.setAttribute('aria-pressed', isLightTheme.toString());
            localStorage.setItem('theme', isLightTheme ? 'light' : 'dark');
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeTheme);
        } else {
            initializeTheme();
        }

        /* ===================================
           Video Mute Controls - Manage mute state across all videos
           Handles both HTML5 videos and embedded Vimeo iframes
           ================================== */
        const VideoMuteModule = {
            init() {
                // Store mute state for videos (Vimeo iframes store mute in localStorage)
                this.muteState = JSON.parse(localStorage.getItem('videoMuteState') || '{}');
                
                // Initialize all mute buttons
                this.initMuteButtons();
                
                // Initialize hero video with mute state
                this.initHeroVideo();
            },
            
            initMuteButtons() {
                const muteButtons = document.querySelectorAll('.video-mute-btn');
                muteButtons.forEach(button => {
                    button.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.toggleMute(button);
                    });
                    
                    // Keyboard accessibility: Space and Enter keys
                    button.addEventListener('keydown', (e) => {
                        if (e.key === ' ' || e.key === 'Enter') {
                            e.preventDefault();
                            this.toggleMute(button);
                        }
                    });
                });
            },
            
            initHeroVideo() {
                const heroVideo = document.getElementById('heroVideo');
                const heroMuteBtn = document.getElementById('heroMuteBtn');
                
                if (!heroVideo) return;
                
                // Restore mute state from localStorage
                const isMuted = this.muteState['hero'] !== false;
                if (isMuted) {
                    heroVideo.muted = true;
                    if (heroMuteBtn) {
                        heroMuteBtn.classList.add('is-muted');
                    }
                } else {
                    heroVideo.muted = false;
                    if (heroMuteBtn) {
                        heroMuteBtn.classList.remove('is-muted');
                    }
                }
            },
            
            toggleMute(button) {
                // Find the nearest video element (could be HTML5 video or Vimeo iframe)
                const videoWrapper = button.closest('.gallery-video-wrapper') || button.closest('section');
                
                if (!videoWrapper) return;
                
                const videoElement = videoWrapper.querySelector('video');
                const iframeElement = videoWrapper.querySelector('iframe[src*="vimeo"]');
                const heroVideo = document.getElementById('heroVideo');
                
                let targetVideo = null;
                let videoId = null;
                
                // Determine which video element to mute and assign ID
                if (videoElement && videoElement === heroVideo) {
                    targetVideo = videoElement;
                    videoId = 'hero';
                } else if (videoElement) {
                    targetVideo = videoElement;
                    videoId = 'video-' + (videoElement.id || Math.random().toString(36).substr(2, 9));
                } else if (iframeElement) {
                    targetVideo = iframeElement;
                    videoId = 'iframe-' + iframeElement.src.split('/').pop();
                }
                
                if (!targetVideo) return;
                
                // Toggle mute state
                const currentState = this.muteState[videoId] !== false;
                this.muteState[videoId] = !currentState;
                
                // Apply mute to video element
                if (videoElement) {
                    videoElement.muted = !currentState;
                }
                
                // For Vimeo iframes, we can't directly mute via JS due to CORS, 
                // but we can track preference for UI state
                
                // Update button visual state
                if (this.muteState[videoId] === true) {
                    button.classList.add('is-muted');
                } else {
                    button.classList.remove('is-muted');
                }
                
                // Save state to localStorage
                localStorage.setItem('videoMuteState', JSON.stringify(this.muteState));
            }
        };

        // Initialize mute controls when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                VideoMuteModule.init();
            });
        } else {
            VideoMuteModule.init();
        }

        /* ===================================
           Mobile Menu Toggle
           ================================== */
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const navLinks = document.getElementById('navLinks');

        hamburgerBtn.addEventListener('click', () => {
            const isActive = navLinks.classList.toggle('active');
            hamburgerBtn.classList.toggle('active');
            hamburgerBtn.setAttribute('aria-expanded', isActive.toString());
        });

        // Close menu when a link is clicked
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                hamburgerBtn.classList.remove('active');
                hamburgerBtn.setAttribute('aria-expanded', 'false');
            });
        });

        /* ===================================
           Work Image Lightbox Modal
           ================================== */
        const workImageModal = document.getElementById('workImageModal');
        const workImageModalImg = document.getElementById('workImageModalImg');
        const workImageModalClose = document.getElementById('workImageModalClose');
        const workImageModalBackdrop = document.querySelector('.work-image-modal-backdrop');
        const workSection = document.querySelector('.work');

        let workImageOrigin = null;

        function openWorkImageModal(imgElement) {
            workImageModalImg.src = imgElement.src;
            workImageModalImg.alt = imgElement.alt || 'Expanded work image';
            workImageOrigin = imgElement;
            workImageModal.classList.add('active');
            workImageModal.setAttribute('aria-hidden', 'false');
            document.body.style.overflow = 'hidden';
            workImageModalClose.focus();
        }

        function closeWorkImageModal() {
            workImageModal.classList.remove('active');
            workImageModal.setAttribute('aria-hidden', 'true');
            document.body.style.overflow = '';
            if (workImageOrigin) {
                workImageOrigin.focus();
                workImageOrigin = null;
            }
        }

        if (workSection) {
            workSection.addEventListener('click', function(e) {
                const clickedElement = e.target;
                if (clickedElement.tagName === 'IMG' && clickedElement.parentElement?.classList.contains('video-card')) {
                    if (!clickedElement.closest('.video-overlay')) {
                        e.stopPropagation();
                        openWorkImageModal(clickedElement);
                    }
                }
            });
        }

        if (workImageModalClose) {
            workImageModalClose.addEventListener('click', closeWorkImageModal);
        }

        if (workImageModalBackdrop) {
            workImageModalBackdrop.addEventListener('click', closeWorkImageModal);
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && workImageModal?.classList.contains('active')) {
                closeWorkImageModal();
            }
        });

        if (workImageModalImg) {
            workImageModalImg.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }
    </script>
</body>
</html>
